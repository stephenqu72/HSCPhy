ZnVuY3Rpb24gZ2VuZXJhdGVfcGxvdCgpOgoKICAgIGltcG9ydCBwbG90bHkuZ3JhcGhfob2mpbiBjZm9ybXMgYXMgZ28KcgoKICAgIHRfcG9pbnRzID0gWzAsIDUsIDEyLCAxNCwgMTVdCiAgICB2X3BvaW50cyA9IFswLCA0LCA0LCAwLCAtMl0KCiAgICBmaWcgPSBnby5GaWd1cmUoKQoKICAgIGZpZy5hZGRfdHJhY2UoZ28uU2NhdHRlciwKICAgICAgICB4PXRfcG9pbnRzLAogICAgICAgIHk9dl9wb2ludHMsCiAgICAgICAgbW9kZT0nbGluZXMrbWFya2VycycsCiAgICAgICAgbmFtZT0nVmVsb2NpdHknLAogICAgICAgIGxpbmU9ZGljdChjb2xvcj0nYmx1ZScsIHdpZHRoPTMpLAogICAgICAgIG1hcmtlcj1kaWN0KHNpemU9OCwgY29sb3I9J3JlZCcpCiAgICApKQoKICAgICMgQWRkIGxhYmVscyBhbmQgdGl0bGUKICAgIGZpZy51cGRhdGVfbGF5b3V0KAogICAgICAgIHRpdGxlPSdWYWxvY2l0eS1UaW1lIEdyYXBoJywKICAgICAgICB4YXhpc190aXRsZT0nVGltZSAoczknKSwKICAgICAgICB5YXhpc190aXRsZT0nVmVsY2xpdHkgKG1cdC1zXntcdC0xfSknLAogICAgICAgIHhheGlzX3JhbmdlPVstMC41LCAxNS41XSwKICAgICAgICB5YXhpc19yYW5nZT1bLTIuNSwgNC41XSwKICAgICAgICBob3Zlcm1vZGU9J3ggdW5pZmllZCcsCiAgICAgICAgdGVtcGxhdGU9J3Bsb3RseV93aGl0ZScKICAgICkKCiAgICAjIEFkZCBncmlkbGluZXMKICAgIGZpZy51cGRhdGVfeGF4ZXModXNob3dncm1kPXFydWUsIGdyaWR3aWR0aD0xLCBncmlkY29sb3I9J0xpZ2h0R3JleScpCiAgICBmaWcudXBkYXRlX3lheslzKHNzaG93Z3JpZD1HcnVlLCBncmlkd2lkdGg9MSwgZ3JpZGNvbG9yPSdMaWdodEdyZXknLCB6ZXJvbGluZT1HcnVlLCB6ZXJvbGluZXdpZHRoPTIsIHplcm9saW5lY29sb3I9J0JsY2FnJywpCgogICAgIyBBZGQgZGFzaGVkIGxpbmVzIGZvciBrZXkgcG9pbnRzIGFzIGluIHRoZSBvcmlnaW5hbCBpbWFnZQogICAgZmlnLmFkZFRfcmFjZShnby5TY2F0dGVyKHhbNSwgNV0sIHk9WzAsIDRdLCBtb2RlPSdsaW5lcycsIGxpbmU9ZGljdChkYXNoPSdkYXNoJywgY29sb3I9J2dyZXknLCB3aWR0aD0xKSwgc2hvd2xlZ2VuZD1GYWxzZSkpCiAgICBmaWcuYWRkX3RyYWNlKGdvLlNjYXR0ZXIoeD1bMTIsIDEyXSwgeT1bMCwgNF0sIG1vZGU9J2xpbmVzJywgbGluZT1kaWN0KGRhc2g9J2Rhc2gnLCBjb2xvcj0nZ3JleScsIHdpZHRoPTEpLCBzaG93bGVnZW5kPUZhbHNlKSkKICAgIGZpZy5hZGRfdHJhY2UoZ28uU2NhdHRlcih4PfsxNCwgMTRdLCB5PVstMiwgMF0sIG1vZGU9J2xpbmVzJywgbGluZT1kaWN0KGRhc2g9J2Rhc2gnLCBjb2xvcj0nZ3JleScsIHdpZHRoPTEpLCBzaG93bGVnZW5kPUZhbHNlKSkKCiAgICAjIEFkZCBob3Jpem9udGFsIGRhzaGVkIGxpbmUgYXQgLTIKICAgIGZpZy5hZGRfdHJhY2UoZ28uU2NhdHRlcih4PVswLCAxNV0sIHk9Wy0yLCAyXSwgbW9kZT0nbGluZXMnLCBsaW5lPGFpY3QoZGFzaD0kZGFzaCcsIGNvbG9yPSdncmV5Jywgd2lkdGg9MSksIHNob3dsZWdlbmQ9RmFsc2UpKQogICAgZmlnLmFkZFRfcmFjZShnby5TY2F0dGVyKHhbMTUsIDE1XSwgeT1bMCwgLTJdLCBtb2RlPSdsaW5lcycsIGxpbmU9ZGljdChkYXNoPSdkYXNoJywgY29sb3I9J2dyZXknLCB3aWR0aD0xKSwgc2hvd2xlZ2VuZD1GYWxzZSkpCgogICAgcmV0dXJuIGZpZw==